var buster = require("buster");
var tokenizer = require("../tokenizer.js");

buster.testCase("tokenizer tire kick", {
	"combined": function() {
		t = tokenizer.New("1 + 2.2 - 3.4e56 * \"abc\" && foo!=$bar / (_baz ? quux0 : ok_I_get_it)");
		assert.equals(t.tok_type, "number");
		assert.equals(t.val, "1");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "+");
		t.toke();
		assert.equals(t.tok_type, "number");
		assert.equals(t.val, "2.2");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "-");
		t.toke();
		assert.equals(t.tok_type, "number");
		assert.equals(t.val, "3.4e56");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "*");
		t.toke();
		assert.equals(t.tok_type, "string");
		assert.equals(t.val, "abc");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "&&");
		t.toke();
		assert.equals(t.tok_type, "name");
		assert.equals(t.val, "foo");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "!=");
		t.toke();
		assert.equals(t.tok_type, "name");
		assert.equals(t.val, "$bar");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "/");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "(");
		t.toke();
		assert.equals(t.tok_type, "name");
		assert.equals(t.val, "_baz");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, "?");
		t.toke();
		assert.equals(t.tok_type, "name");
		assert.equals(t.val, "quux0");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, ":");
		t.toke();
		assert.equals(t.tok_type, "name");
		assert.equals(t.val, "ok_I_get_it");
		t.toke();
		assert.equals(t.tok_type, "op");
		assert.equals(t.val, ")");
		t.toke();
		assert.equals(t.tok_type, "over");
		assert.equals(t.val, "end of stream");
		t.toke();
		assert.equals(t.tok_type, "over");
		assert.equals(t.val, "end of stream");
	}
});
